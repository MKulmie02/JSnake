<!DOCTYPE html>
<html>
<head>
<title>JSnake</title>
<style type="text/css">

.gameRow { height: 10vh; }
body, #gameArea { height: 100vh; }
.gameCol { height: 10vh; float: left; width: 10vh; background-color: #eee; border: 1px solid #eee; }

</style>
</head>
<body>

<div id="gameArea">

<div class="gameRow">
 <div class="gameCol" id="r0c0"></div>
 <div class="gameCol" id="r0c1"></div>
 <div class="gameCol" id="r0c2"></div>
 <div class="gameCol" id="r0c3"></div>
 <div class="gameCol" id="r0c4"></div>
 <div class="gameCol" id="r0c5"></div>
 <div class="gameCol" id="r0c6"></div>
 <div class="gameCol" id="r0c7"></div>
</div>
<div class="gameRow">
 <div class="gameCol" id="r1c0"></div>
 <div class="gameCol" id="r1c1"></div>
 <div class="gameCol" id="r1c2"></div>
 <div class="gameCol" id="r1c3"></div>
 <div class="gameCol" id="r1c4"></div>
 <div class="gameCol" id="r1c5"></div>
 <div class="gameCol" id="r1c6"></div>
 <div class="gameCol" id="r1c7"></div>
</div>
<div class="gameRow">
 <div class="gameCol" id="r2c0"></div>
 <div class="gameCol" id="r2c1"></div>
 <div class="gameCol" id="r2c2"></div>
 <div class="gameCol" id="r2c3"></div>
 <div class="gameCol" id="r2c4"></div>
 <div class="gameCol" id="r2c5"></div>
 <div class="gameCol" id="r2c6"></div>
 <div class="gameCol" id="r2c7"></div>
</div>
<div class="gameRow">
 <div class="gameCol" id="r3c0"></div>
 <div class="gameCol" id="r3c1"></div>
 <div class="gameCol" id="r3c2"></div>
 <div class="gameCol" id="r3c3"></div>
 <div class="gameCol" id="r3c4"></div>
 <div class="gameCol" id="r3c5"></div>
 <div class="gameCol" id="r3c6"></div>
 <div class="gameCol" id="r3c7"></div>
</div>
<div class="gameRow">
 <div class="gameCol" id="r4c0"></div>
 <div class="gameCol" id="r4c1"></div>
 <div class="gameCol" id="r4c2"></div>
 <div class="gameCol" id="r4c3"></div>
 <div class="gameCol" id="r4c4"></div>
 <div class="gameCol" id="r4c5"></div>
 <div class="gameCol" id="r4c6"></div>
 <div class="gameCol" id="r4c7"></div>
</div>
<div class="gameRow">
 <div class="gameCol" id="r5c0"></div>
 <div class="gameCol" id="r5c1"></div>
 <div class="gameCol" id="r5c2"></div>
 <div class="gameCol" id="r5c3"></div>
 <div class="gameCol" id="r5c4"></div>
 <div class="gameCol" id="r5c5"></div>
 <div class="gameCol" id="r5c6"></div>
 <div class="gameCol" id="r5c7"></div>
</div>
<div class="gameRow">
 <div class="gameCol" id="r6c0"></div>
 <div class="gameCol" id="r6c1"></div>
 <div class="gameCol" id="r6c2"></div>
 <div class="gameCol" id="r6c3"></div>
 <div class="gameCol" id="r6c4"></div>
 <div class="gameCol" id="r6c5"></div>
 <div class="gameCol" id="r6c6"></div>
 <div class="gameCol" id="r6c7"></div>
</div>
<div class="gameRow">
 <div class="gameCol" id="r7c0"></div>
 <div class="gameCol" id="r7c1"></div>
 <div class="gameCol" id="r7c2"></div>
 <div class="gameCol" id="r7c3"></div>
 <div class="gameCol" id="r7c4"></div>
 <div class="gameCol" id="r7c5"></div>
 <div class="gameCol" id="r7c6"></div>
 <div class="gameCol" id="r7c7"></div>
</div>

</div>

<script type="text/javascript">

let horizontalPosition=-1
let verticalPosition=-1
let movingRight=false
let movingDown=false
let movingLeft=false
let movingUp=false

function runGame() {

if(movingRight)

(function moveRight() {
 console.log('moveRight')
 document.getElementById('r'+ verticalPosition+'c'+ ++horizontalPosition).style['border']='1px solid #ddd'
 if(horizontalPosition<7) {
  setTimeout(()=>{
   document.getElementById('r'+verticalPosition+'c'+horizontalPosition).style['border']='1px solid #eee'
   runGame()
  },1000)
 } else {
  setTimeout(()=>{
   document.getElementById('r'+verticalPosition+'c'+horizontalPosition).style['border']='1px solid #eee'
   horizontalPosition=-1
   runGame()
  },1000)
 }
})()

else if(movingLeft)

(function moveLeft() {
 console.log('moveLeft')
 console.log('moveLeft')
 document.getElementById('r'+ verticalPosition+'c'+ --horizontalPosition).style['border']='1px solid #ddd'
 if(horizontalPosition>0) {
  setTimeout(()=>{
   document.getElementById('r'+verticalPosition+'c'+horizontalPosition).style['border']='1px solid #eee'
   runGame()
  },1000)
 } else {
  setTimeout(()=>{
   document.getElementById('r'+verticalPosition+'c'+horizontalPosition).style['border']='1px solid #eee'
   horizontalPosition=8
   runGame()
  },1000)
 }
})()

else if(movingDown)

(function moveDown() {
 console.log('moveDown')
 document.getElementById('r'+ ++verticalPosition+'c'+ horizontalPosition).style['border']='1px solid #ddd'
 if(verticalPosition<7) {
  setTimeout(()=>{
   document.getElementById('r'+verticalPosition+'c'+horizontalPosition).style['border']='1px solid #eee'
   runGame()
  },1000)
 } else {
  setTimeout(()=>{
   document.getElementById('r'+verticalPosition+'c'+horizontalPosition).style['border']='1px solid #eee'
   verticalPosition=-1
   runGame()
  },1000)
 }
})()

else if(movingUp)

(function moveUp() {
 console.log('moveUp')
 document.getElementById('r'+ --verticalPosition+'c'+ horizontalPosition).style['border']='1px solid #ddd'
 if(verticalPosition>0) {
  setTimeout(()=>{
   document.getElementById('r'+verticalPosition+'c'+horizontalPosition).style['border']='1px solid #eee'
   runGame()
  },1000)
 } else {
  setTimeout(()=>{
   document.getElementById('r'+verticalPosition+'c'+horizontalPosition).style['border']='1px solid #eee'
   verticalPosition=8
   runGame()
  },1000)
 }
})()

} // runGame

//moveDown()
verticalPosition=0
movingRight=true
runGame()
//moveRight()

document.onkeydown = key => {
 if(key.code=='ArrowDown' && !movingDown && !movingUp) {
  movingRight=movingLeft=movingUp=false
  movingDown=true
  //document.getElementById('r'+verticalPosition+'c'+horizontalPosition).style['border']='1px solid #eee'
  //moveDown()
 }
 if(key.code=='ArrowRight' && !movingRight && !movingLeft) {
  movingRight=true
  movingDown=movingLeft=movingUp=false
  //document.getElementById('r'+verticalPosition+'c'+horizontalPosition).style['border']='1px solid #eee'
  //moveRight()
 }
 if(key.code=='ArrowLeft' && !movingRight && !movingLeft) {
  movingLeft=true
  movingDown=movingRight=movingUp=false
  //document.getElementById('r'+verticalPosition+'c'+horizontalPosition).style['border']='1px solid #eee'
  //moveLeft()
 }
 if(key.code=='ArrowUp' && !movingDown && !movingUp) {
  movingUp=true
  movingDown=movingRight=movingLeft=false
  //document.getElementById('r'+verticalPosition+'c'+horizontalPosition).style['border']='1px solid #eee'
  //moveUp()
 }
}

</script>

</body>
</html>